# 05_CONTRIBUTING.md - 贡献指南\n\n欢迎您对 `cp_ppsd` 项目做出贡献！无论是报告 Bug、提交功能请求，还是直接贡献代码或文档，您的参与都对项目至关重要。本指南旨在使贡献过程尽可能清晰和顺畅。\n\n## 目录\n1.  [行为准则 (Code of Conduct)](#1-行为准则-code-of-conduct)\n2.  [如何报告 Bug](#2-如何报告-bug)\n3.  [如何提交功能请求](#3-如何提交功能请求)\n4.  [如何贡献代码](#4-如何贡献代码)\n    *   [4.1 设置开发环境](#41-设置开发环境)\n    *   [4.2 分支与提交流程](#42-分支与提交流程)\n    *   [4.3 编码规范](#43-编码规范)\n    *   [4.4 编写测试](#44-编写测试)\n    *   [4.5 文档更新](#45-文档更新)\n    *   [4.6 提交合并请求 (Pull Request)](#46-提交合并请求-pull-request)\n5.  [如何贡献文档](#5-如何贡献文档)\n\n---\n\n## 1. 行为准则 (Code of Conduct)\n\n为了营造一个开放、友好、互相尊重和协作的社区环境，我们期望所有参与者都能遵守以下行为准则：\n\n*   **尊重他人**: 对待所有贡献者和用户都要友善、礼貌和体谅。避免人身攻击、骚扰、歧视或任何形式的不尊重行为。\n*   **建设性沟通**: 无论是提问、报告问题、提供反馈还是参与讨论，都请保持建设性的态度。专注于问题本身，并以解决问题为导向。\n*   **包容性**: 我们欢迎来自不同背景、不同经验水平的贡献者。请努力使用清晰、易懂的语言，并对新手保持耐心和乐于助人。\n*   **合作精神**: 鼓励合作和知识共享。如果您有好的想法或解决方案，请积极分享。如果您需要帮助，也请大胆提问。\n*   **遵守项目规范**: 请在贡献时遵循本项目的编码规范、提交流程和其他指南。\n\n如果遇到任何违反行为准则的情况，或者您感到不适，请联系项目维护者。\n\n*(注: 如果项目规模较大或社区较活跃，可以考虑引入一个更正式、详细的行为准则文件，例如基于 Contributor Covenant adopting a Code of Conduct from [Contributor Covenant](https://www.contributor-covenant.org/)).*\n\n## 2. 如何报告 Bug\n\n如果您在使用 `cp_psd.py` 脚本时发现了 Bug，请通过项目代码托管平台（如 GitHub, GitLab）的 **Issue 跟踪系统** 来报告。\n\n在提交 Bug 报告时，请尽可能提供以下信息：\n\n*   **清晰的标题**: 简明扼要地描述问题。\n*   **复现步骤 (Steps to Reproduce)**: 详细说明如何触发该 Bug。提供具体的命令行调用、配置文件内容和相关的输入数据信息。\n*   **期望行为 (Expected Behavior)**: 描述您期望程序如何表现。\n*   **实际行为 (Actual Behavior)**: 描述程序实际是如何表现的，包括任何错误消息、堆栈跟踪 (stack trace) 或不正确的输出。\n*   **您的环境信息**: \n    *   操作系统及版本 (e.g., Ubuntu 22.04, Windows 10 Pro, macOS Sonoma)。\n    *   Python 版本 (e.g., Python 3.12.1)。\n    *   ObsPy 版本及其他关键依赖库的版本 (通常可以通过 `pip freeze` 在激活的虚拟环境中获取)。\n    *   `cp_psd.py` 脚本的版本或您使用的 Git commit SHA。\n*   **相关的日志文件或截图**: 如果适用，请附上 `DEBUG` 级别的日志输出或截图，这有助于诊断问题。\n\n一个好的 Bug 报告能帮助我们更快地定位和修复问题。\n\n## 3. 如何提交功能请求\n\n如果您对 `cp_psd.py` 脚本有新的功能建议或改进意见，也欢迎通过项目的 **Issue 跟踪系统** 提交。\n\n在提交功能请求时，请说明：\n\n*   **清晰的标题**: 简明扼要地描述您建议的功能。\n*   **功能描述 (Problem/Solution)**: \n    *   您试图解决什么问题？或者，这个新功能能带来什么好处？\n    *   详细描述您建议的功能是如何工作的。\n*   **相关用例 (Use Cases)**: 描述在哪些场景下这个功能会非常有用。\n*   **可能的实现思路 (Optional)**: 如果您对如何实现该功能有一些初步的想法，也欢迎分享。\n*   **替代方案 (Optional)**: 您是否考虑过其他替代方案或现有的解决方法？\n\n我们会对功能请求进行评估，并与社区讨论其可行性和优先级。\n\n## 4. 如何贡献代码\n\n我们非常欢迎您直接为项目贡献代码！以下是贡献代码的一般流程：\n\n### 4.1 设置开发环境\n请严格按照 `cursor_project_rules/01_DEVELOPMENT_ENVIRONMENT.md` 中的指南设置您的本地开发环境，包括正确的 Python 版本、虚拟环境和必要的依赖。\n\n### 4.2 分支与提交流程\n1.  **Fork (如果适用)**: 如果您不是项目的直接协作者，请先将项目仓库 Fork 到您自己的账户下。\n2.  **Clone**: 将仓库克隆到您的本地机器。\n3.  **创建特性分支**: 严格遵循 `cursor_project_rules/02_CODING_STANDARDS.md` 中定义的分支策略。\通常，您应该从最新的 `develop` 分支创建一个新的特性分支：\n    ```bash\n    git checkout develop\n    git pull origin develop # 确保 develop 分支是最新\n    git checkout -b feature/your-descriptive-feature-name\n    ```\n    或者，如果是修复 Bug，则可能是从 `main` (针对 hotfix) 或 `develop` 创建修复分支。\n4.  **编码**: 在您的特性分支上进行代码开发。\n5.  **提交**: 遵循 `cursor_project_rules/02_CODING_STANDARDS.md` 中的提交信息规范，频繁地、小批量地提交您的更改。\n    ```bash\n    git add .\n    git commit -m \"feat(module): Implement new feature X\"\n    ```\n\n### 4.3 编码规范\n所有提交的代码都必须严格遵守 `cursor_project_rules/02_CODING_STANDARDS.md` 中定义的编码风格和规范，包括 PEP8、命名约定、类型提示、文档字符串等。\n\n### 4.4 编写测试\n*   对于所有新增的功能或对现有功能的修改，都**必须**编写相应的单元测试和/或集成测试。\n*   测试应遵循 `cursor_project_rules/03_TESTING_GUIDELINES.md` 中的指南。\n*   确保所有测试通过 (`pytest`) 并且达到项目要求的测试覆盖率。\n\n### 4.5 文档更新\n*   如果您的代码更改影响了用户可见的行为、配置参数、输出格式或项目架构，请务必更新相关的文档。\n*   可能需要更新的文档包括：\n    *   `cursor_project_rules/产品需求文档：PDF计算软件.md` (如果功能或参数有变动)\n    *   相关的知识库 Markdown 文件 (如 `00_PROJECT_OVERVIEW.md`, `04_TROUBLESHOOTING_FAQ.md` 等)\n    *   代码中的文档字符串。\n\n### 4.6 提交合并请求 (Pull Request / PR)\n1.  **推送分支**: 将您的本地特性分支推送到远程仓库 (您的 fork 或项目主仓库)。\n    ```bash\n    git push origin feature/your-descriptive-feature-name\n    ```\n2.  **创建合并请求**: 在代码托管平台（如 GitHub）上，从您的特性分支向项目的 `develop` 分支（或根据分支策略确定的目标分支）发起一个新的合并请求。\n3.  **PR 描述**: \n    *   清晰、完整地描述您的更改内容、目的和实现方式。\n    *   如果解决了某个 Issue，请在描述中链接该 Issue (例如 `Closes #123`)。\n    *   说明如何测试您的更改。\n4.  **代码审查**: 您的 PR 将会由项目维护者和其他贡献者进行审查。请积极回应审查意见，并根据反馈进行修改和讨论。审查过程请参考 `02_CODING_STANDARDS.md`。\n5.  **合并**: 一旦您的 PR 通过审查并满足所有要求，它将被合并到目标分支。\n\n## 5. 如何贡献文档\n\n对文档的贡献同样重要！如果您发现文档中有错误、不清晰之处，或者有可以改进的地方，欢迎进行贡献。\n\n*   对于较小的修改（如拼写错误、语法修正、澄清语句），您可以直接在代码托管平台上编辑文件并发起一个简单的合并请求，或者创建一个 Issue 说明问题。\n*   对于较大的文档结构调整或内容新增：\n    1.  建议先通过 Issue 提出您的修改建议，与维护者讨论。\n    2.  可以遵循与代码贡献类似的分支和合并请求流程，在本地编辑 Markdown 文件，然后提交 PR。\n    3.  确保您的修改保持文档的整体一致性和准确性。\n\n---\n\n感谢您的贡献！ 